#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <windows.h>
#include <locale.h>
#include <string.h>
#define SIZE 50

typedef struct day {
	int date[3] = { 0 };
	int nighttemp[2] = { 0 };
	int daytemp[2] = { 0 };
	int feelstemp[2] = { 0 };
	char osadki[SIZE] = { 0 };
	int windspeed[2] = { -1, -1 };
	char windway[SIZE] = { 0 };
	int poriv[2] = { -1, -1 };
	int pressure = 0;
	char fact[SIZE] = { 0 };
	char time_of_year[SIZE] = { 0 };
	char month[SIZE] = { 0 };
}weather;

int main() {
	setlocale(LC_ALL, "russian_russia.1251");
	printf("Ща запущю погодь...\n");
	weather days[SIZE];
	int cur = 0;
	FILE* input;
	input = fopen("input.txt", "rt");
	char str[SIZE] = { 0 };
	char c='0';
	while (c!=EOF && c!=' ') {
		fscanf(input, "%d.%d.%d\t%d..%d\t%d..%d\t%d..%d\t%s\t", &days[cur].date[0],
			&days[cur].date[1],
			&days[cur].date[2],
			&days[cur].nighttemp[0],
			&days[cur].nighttemp[1],
			&days[cur].daytemp[0],
			&days[cur].daytemp[1],
			&days[cur].feelstemp[0],
			&days[cur].feelstemp[1],
			&days[cur].osadki);
		fscanf(input, "%s", &str);
		if (strlen(str) == 3) {
			sscanf(str, "%d-%d", &days[cur].windspeed[0], &days[cur].windspeed[1]);
		}
		else {
			sscanf(str, "%d", &days[cur].windspeed[0]);
		}
		fscanf(input, "%s", &days[cur].windway);
		fscanf(input, "%s", &str);
		if (strlen(str) == 3) {
			sscanf(str, "%d-%d", &days[cur].poriv[0], &days[cur].poriv[1]);
		}
		else {
			sscanf(str, "%d", &days[cur].poriv[0]);
		}
		fscanf(input, "%d", &days[cur].pressure);
		c = fgetc(input);
		if (c == ' ') {
			fscanf(input, "%s", &days[cur].fact);
		}
		switch (days[cur].date[1]) {
		case 1:
			strncat(days[cur].month, "январь", SIZE);
			strncat(days[cur].time_of_year, "зима", SIZE);
			break;
		case 2:
			strncat(days[cur].month, "февраль", SIZE);
			strncat(days[cur].time_of_year, "зима", SIZE);
			break;
		case 3:
			strncat(days[cur].month, "март", SIZE);
			strncat(days[cur].time_of_year, "весна", SIZE);
			break;
		case 4:
			strncat(days[cur].month, "апрель", SIZE);
			strncat(days[cur].time_of_year, "весна", SIZE);
			break;
		case 5:
			strncat(days[cur].month, "май", SIZE);
			strncat(days[cur].time_of_year, "весна", SIZE);
			break;
		case 6:
			strncat(days[cur].month, "июнь", SIZE);
			strncat(days[cur].time_of_year, "лето", SIZE);
			break;
		case 7:
			strncat(days[cur].month, "июль", SIZE);
			strncat(days[cur].time_of_year, "лето", SIZE);
			break;
		case 8:
			strncat(days[cur].month, "август", SIZE);
			strncat(days[cur].time_of_year, "лето", SIZE);
			break;
		case 9:
			strncat(days[cur].month, "сентябрь", SIZE);
			strncat(days[cur].time_of_year, "осень", SIZE);
			break;
		case 10:
			strncat(days[cur].month, "октябрь", SIZE);
			strncat(days[cur].time_of_year, "осень", SIZE);
			break;
		case 11:
			strncat(days[cur].month, "ноябрь", SIZE);
			strncat(days[cur].time_of_year, "осень", SIZE);
			break;
		case 12:
			strncat(days[cur].month, "декабрь", SIZE);
			strncat(days[cur].time_of_year, "зима", SIZE);
			break;
		}
		cur++;
	}

	fclose(input);
}
